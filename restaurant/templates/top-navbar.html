{% load auth_extras %}
<div class="container">
    <div class="my_custom_menu">
        <ul>
            {% if user.is_authenticated %}
            <li>
                Welcome, <a href="#" class="dropdown-toggle" data-bs-toggle="dropdown" 
                aria-haspopup="true" aria-expanded="false">{{ user.username }} 
                <i class="fas fa-user-circle"></i></a>
                <div class="dropdown-menu dropdown-menu-right">
                    <a href="{% url 'edit_profile'%}" class="dropdown-item">Edit Profile</a>
                    <a href="{% url 'change_password'%}" class="dropdown-item">Change Password</a>
                    <a href="{% url 'order:order_history' %}" class="dropdown-item">Order History</a>
                    
                    {% if user|has_group:"Manager" %}
                        <a href="{% url 'restaurant:food_create'%}" class="dropdown-item">Update Menu</a>
                    {% endif %}
                </div>
            </li>
            <li>
                <a href="{% url 'logout' %}">Logout <i class="fas fa-sign-out-alt"></i></a>
            </li>
            {% else %}
            <li>
                <a href="{% url 'signup' %}">Sign Up <i class="fas fa-user-plus"></i></a>
            </li>
            <li>
                <a href="{% url 'login' %}">Login <i class="fas fa-sign-in-alt"></i></a>
            </li>
        
            {% endif %}
        </ul>
        
    </div>
</div>